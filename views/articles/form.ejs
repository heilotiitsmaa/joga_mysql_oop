<!-- views/articles/form.ejs -->
<% layout('layout') -%>

<h1><%= title %></h1>

<form action="<%= action %>" method="POST">
  <!-- Meetodi 체lekirjutamine (PUT, DELETE) -->
  <input type="hidden" name="_method" value="<%= method %>">

  <div class="mb-3">
    <label for="name" class="form-label">Pealkiri</label>
    <input type="text" class="form-control" id="name" name="name" value="<%= article.name || '' %>" required>
  </div>

  <div class="mb-3">
    <label for="slug" class="form-label">Slug (URL)</label>
    <input type="text" class="form-control" id="slug" name="slug" value="<%= article.slug || '' %>" required>
  </div>

  <div class="mb-3">
    <label for="image" class="form-label">Pildi failinimi</label>
    <input type="text" class="form-control" id="image" name="image" value="<%= article.image || '' %>" required>
    <div class="form-text">Pilt peab asuma kaustas <code>public/images/</code></div>
  </div>

  <div class="mb-3">
    <label for="body" class="form-label">Sisu (HTML)</label>
    <textarea class="form-control" id="body" name="body" rows="5" required><%= article.body || '' %></textarea>
  </div>

  <div class="mb-3">
    <label for="author_id" class="form-label">Autori ID</label>
    <input type="number" class="form-control" id="author_id" name="author_id" value="<%= article.author_id || '' %>" required>
    <div class="form-text">Autori ID peab olema olemas (1, 2 v천i 3)</div>
  </div>

  <div class="mb-3">
    <label for="published" class="form-label">Avaldamise kuup채ev</label>
    <input type="datetime-local" class="form-control" id="published" name="published" 
           value="<%= formatDateForInput(article.published) || '' %>">
  </div>

  <button type="submit" class="btn btn-primary"><%= button %></button>
  <a href="/articles" class="btn btn-secondary">T체hista</a>
</form>